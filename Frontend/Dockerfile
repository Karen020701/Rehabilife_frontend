
FROM node:18-alpine


WORKDIR /app


COPY package.json package-lock.json ./
COPY .env .env


RUN npm install


COPY . .


RUN npm run build


ARG PUBLIC_IP_AUTH
ARG PUBLIC_IP_REGISTER
ARG PUBLIC_IP_OFFERS
ARG PUBLIC_IP_PRODUCT_CREATE
ARG PUBLIC_IP_PRODUCT_DELETE
ARG PUBLIC_IP_PRODUCT_UPDATE
ARG PUBLIC_IP_PRODUCT
ARG PUBLIC_IP_LOCATIONS
ARG PUBLIC_IP_USERS
ARG PUBLIC_IP_USER_UPDATE
ARG PUBLIC_IP_USER_DELETE
ARG PUBLIC_IP_CATEGORIES
ARG PUBLIC_IP_CATEGORY_UPDATE
ARG PUBLIC_IP_CATEGORY_DELETE
ARG PUBLIC_IP_CATEGORY_CREATE
ARG PUBLIC_IP_SCHEDULES
ARG PUBLIC_IP_SUGGESTIONS
ARG PUBLIC_IP_INVENTORIES

ENV PUBLIC_IP_AUTH=$PUBLIC_IP_AUTH
ENV PUBLIC_IP_REGISTER=$PUBLIC_IP_REGISTER
ENV PUBLIC_IP_OFFERS=$PUBLIC_IP_OFFERS
ENV PUBLIC_IP_PRODUCT_CREATE=$PUBLIC_IP_PRODUCT_CREATE
ENV PUBLIC_IP_PRODUCT_DELETE=$PUBLIC_IP_PRODUCT_DELETE
ENV PUBLIC_IP_PRODUCT_UPDATE=$PUBLIC_IP_PRODUCT_UPDATE
ENV PUBLIC_IP_PRODUCT=$PUBLIC_IP_PRODUCT
ENV PUBLIC_IP_LOCATIONS=$PUBLIC_IP_LOCATIONS
ENV PUBLIC_IP_USERS=$PUBLIC_IP_USERS
ENV PUBLIC_IP_USER_UPDATE=$PUBLIC_IP_USER_UPDATE
ENV PUBLIC_IP_USER_DELETE=$PUBLIC_IP_USER_DELETE
ENV PUBLIC_IP_CATEGORIES=$PUBLIC_IP_CATEGORIES
ENV PUBLIC_IP_CATEGORY_UPDATE=$PUBLIC_IP_CATEGORY_UPDATE
ENV PUBLIC_IP_CATEGORY_DELETE=$PUBLIC_IP_CATEGORY_DELETE
ENV PUBLIC_IP_CATEGORY_CREATE=$PUBLIC_IP_CATEGORY_CREATE
ENV PUBLIC_IP_SCHEDULES=$PUBLIC_IP_SCHEDULES
ENV PUBLIC_IP_SUGGESTIONS=$PUBLIC_IP_SUGGESTIONS
ENV PUBLIC_IP_INVENTORIES=$PUBLIC_IP_INVENTORIES


EXPOSE 3000

CMD ["npm", "start"]
